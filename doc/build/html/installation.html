<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Installation &mdash; infraGA/GeoAc  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Atmospheric Data" href="atmospheres.html" />
    <link rel="prev" title="Authorship &amp; References" href="authorship.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> infraGA/GeoAc
            <img src="_static/LANL Logo White.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="userguide.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="authorship.html">Authorship &amp; References</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#operating-systems">Operating Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dependencies">Dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="#infraga-geoac-installation">infraGA/GeoAc Installation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="atmospheres.html">Atmospheric Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced.html">Advanced Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="plotting.html">Visualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="utilities.html">Utility Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="parameters.html">Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="physics.html">Propagation Physics</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">infraGA/GeoAc</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a></li>
      <li class="breadcrumb-item active">Installation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/installation.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="installation">
<span id="id1"></span><h1>Installation<a class="headerlink" href="#installation" title="Permalink to this heading"></a></h1>
<section id="operating-systems">
<h2>Operating Systems<a class="headerlink" href="#operating-systems" title="Permalink to this heading"></a></h2>
<p>InfraGA/GeoAc can currently be installed on machines running newer versions of Linux or Apple OS X.  Installation on a Windows system requires C/C++ compilation as well as an Anaconda Python installation.</p>
</section>
<section id="dependencies">
<h2>Dependencies<a class="headerlink" href="#dependencies" title="Permalink to this heading"></a></h2>
<p><strong>FFTW</strong></p>
<p>The weakly non-linear waveform calculations in infraGA/GeoAc leverage Fourier transform methods in the FFTW library.  Installation can be done via <a class="reference external" href="http://fftw.org/download.html">the FFTW download page</a> or by using an OS package manager (e.g., ‘<em>apt-get install -y fftw-dev</em>’ or similar on Linux systems or ‘<em>brew install fftw</em>’ on OS X using homebrew).</p>
<p><strong>OpenMPI</strong></p>
<p>Parallelized calculations of ray paths is enabled in infraGA/GeoAc via a separate OpenMPI implementation.  These methods are optional, but can greatly reduce computation times for larger simulations.  Similar to FFTW above, installation can be completed via <a class="reference external" href="http://open-mpi.org/software/ompi/v4.1">the OpenMPI download page</a> or using an OS package manager (e.g., ‘<em>apt-get install -y openmpi-bin</em>’ or similar on Linux systems or ‘<em>brew install open-mpi</em>’ on OS X).</p>
<p><strong>Anaconda</strong></p>
<p>infraGA/GeoAc methods can be called directly from the command line without the Python wrappers; though, most users will find the wrappers, utilities, and visualization tools in the <em>infraga</em> Python interface to be easier to use.  Installation of these Python tools currently depends on Anaconda to resolve and download the correct python libraries.  Anaconda cannot currently be installed via package managers and must be <a class="reference external" href="https://www.anaconda.com/distribution/">downloaded and installed</a> manually.</p>
</section>
<section id="infraga-geoac-installation">
<h2>infraGA/GeoAc Installation<a class="headerlink" href="#infraga-geoac-installation" title="Permalink to this heading"></a></h2>
<p>Installation of infraGA/GeoAc requires several steps to 1) build the normal C/C++ single-CPU version of the software, 2) build the OpenMPI multi-threaded version, and 3) build the Anaconda environment that contains the wrappers, utilities, and plotting functions.</p>
<p>From the primary directory for infraGA/GeoAc (containing several directories: ‘bin’, ‘doc’, ‘examples’, etc. as well as a makefile), simply run</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make
</pre></div>
</div>
<p>and the C/C++ single-CPU version of the software will compile.  Similarly, the accelerated multi-threaded methods can be compiled using,</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make<span class="w"> </span>accel
</pre></div>
</div>
<p>At this point if you look in the ‘infraga/bin/’ directory there should a number of binary files (e.g., <code class="code docutils literal notranslate"><span class="pre">infraga-2d</span></code>, <code class="code docutils literal notranslate"><span class="pre">infraga-3d</span></code>, <code class="code docutils literal notranslate"><span class="pre">infraga-accel-3d</span></code>,…)  These are the C/C++ and OpenMPI binaries to run the various simulations and can be called directly if you’re familiar with the pre-Anaconda usage of infraGA/GeoAc.</p>
<p>Once the binaries have been compiled, the <em>infraga</em> Anaconda environment can be built by running:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda<span class="w"> </span>env<span class="w"> </span>create<span class="w"> </span>-f<span class="w"> </span>infraga_env.yml
</pre></div>
</div>
<p>If this command executes correctly and finishes without errors, it should print out instructions on how to activate and deactivate the new environment:</p>
<p>To activate the environment, use:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda<span class="w"> </span>activate<span class="w"> </span>infraga_env
</pre></div>
</div>
<p>To deactivate an active environment, use</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda<span class="w"> </span>deactivate
</pre></div>
</div>
<p>Note: in some cases Linux systems require activation via <code class="code docutils literal notranslate"><span class="pre">source</span> <span class="pre">activate</span> <span class="pre">infraga_env</span></code>, so if you’re getting an Anaconda error about activating the environment try this alternate method.</p>
<p><strong>Testing</strong></p>
<p>Once the installation is complete, you can test that the InfraGA/GeoAc methods are set up and accessible by first activating the <em>infraga</em> environment with:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda<span class="w"> </span>activate<span class="w"> </span>infraga_env
</pre></div>
</div>
<p>The infraGA/GeoAc methods have usage summarizes that can be displayed via the <code class="code docutils literal notranslate"><span class="pre">--help</span></code> option.  On the command line, run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>infraga<span class="w"> </span>--help
</pre></div>
</div>
<p>The usage information should be displayed:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Usage: infraga [OPTIONS] COMMAND [ARGS]...

  infraga - Python interface for using the infraGA/GeoAc software tools

Options:
  -h, --help  Show this message and exit.

Commands:
  2d     Run 2d (effective sound speed) ray tracing
  3d     Run 3d (moving medium) ray tracing
  plot   Various visualization functions
  sph    Run spherical layer (moving medium) ray tracing
  utils  Various utility functions
</pre></div>
</div>
<p>Each of the individual methods have usage information (e.g., <code class="code docutils literal notranslate"><span class="pre">infraga</span> <span class="pre">sph</span> <span class="pre">--help</span></code>) that will be discussed in the <a class="reference internal" href="quickstart.html#quickstart"><span class="std std-ref">Quickstart</span></a>.</p>
<p><strong>Updates</strong></p>
<p>It’s highly recommended that users keep up with ongoing R&amp;D and related bug fixes and updates of the infraGA/GeoAc methods through the <a class="reference external" href="https://github.com/LANL-Seismoacoustics/infraGA">LANL Seismoacoustics github page</a>.  InfraGA/GeoAc is a research code and bug fixes, new features, and improved utility and plotting methods are frequently pushed to the git repository.  It’s possible to download a static copy of the software, but updates can more easily be applied through a git instance where the current version can be readily accessed using a <code class="code docutils literal notranslate"><span class="pre">git</span> <span class="pre">pull</span></code> command.  The dependency installs above (e.g., FFTW, OpenMPI) don’t need to be re-installed and the ‘-e’ option used during the infraga environment build keeps any local updates to the Python methods within the environment; therefore, when updates are applied a simple <code class="code docutils literal notranslate"><span class="pre">make</span> <span class="pre">clean</span></code>, <code class="code docutils literal notranslate"><span class="pre">make</span></code>, <code class="code docutils literal notranslate"><span class="pre">make</span> <span class="pre">accel</span></code> is all that’s needed to update the binaries for infraGA/GeoAc.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="authorship.html" class="btn btn-neutral float-left" title="Authorship &amp; References" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="atmospheres.html" class="btn btn-neutral float-right" title="Atmospheric Data" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2014, P.Blom.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>